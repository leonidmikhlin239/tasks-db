31. Очевидно, что Аня носит единственную женскую фамилию --- Иванова. Пусть после того, как она отдаст Петрову один карандаш, у всех станет по $x$ карандашей. Тогда изначально у неё был $x+1$ карандаш, у Петрова $x-1,$ а у Сидорова --- $x.$ Если Витя был Сидоров, то верно равенство $x+1+x=10,\ 2x+1=10,\ 2x=9,$ которое невозможно. Значит, Витя носит фамилию Петров и $x+1+x-1=10,\ 2x=10,\ x=5.$ Значит, у Ани Ивановой было $5+1=6$ карандашей, у Вити Петрова было $5-1=4$ карандаша и у Бори Сидорова было 5 карандашей.\\
