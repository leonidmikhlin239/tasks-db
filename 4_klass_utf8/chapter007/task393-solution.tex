394. Белых и синих карандашей должно быть не больше 16 (иначе будет 17 карандашей, среди которых нет красного), белых и красных не больше 15 (аналогично), а красных и синих --- хотя бы 29. При этом синих карандашей не больше 15 (так как иначе белых вообще не будет), а красных --- не больше 14 (аналогично), поэтому их ровно 15 и 14 (так как $15+14=29$). Тогда белый карандаш ровно один, а всего карандашей $15+14+1=30.$\\
