12. Составим систему уравнений: $\begin{cases}a_1+2d=21,\\a_1+8d=51.\end{cases}\Leftrightarrow\begin{cases}a_1+2d=21,\\6d=30.\end{cases}
\Leftrightarrow\begin{cases}a_1=11,\\d=5.\end{cases}$ Тогда $S_n=11n+\cfrac{n(n-1)}{2}\cdot5=396,\ 5n^2-5n+22n=792,\ 5n^2+17n-792=0,\ n=11.$\\