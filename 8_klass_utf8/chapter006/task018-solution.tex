18. $f(x)=\cfrac{\sqrt{1+\left(\cfrac{x^2-1}{2x}\right)^2}}{(x^2+1)\cdot\cfrac{1}{x}}=
\cfrac{x\sqrt{\cfrac{x^4+2x^2+1}{4x^2}}}{x^2+1}=\cfrac{x\left|\cfrac{x^2+1}{2x}\right|}{x^2+1}=\cfrac{x}{2|x|}=\begin{cases}\cfrac{1}{2},\ x>0,\\ -\cfrac{1}{2},\ x<0.\end{cases}$
$$\begin{tikzpicture}[scale=0.2]
\tikzset {line01/.style={line width =0.5pt}}
\tikzset{line02/.style={line width =1pt}}
\tikzset{line03/.style={dashed,line width =0.5pt}}
%\filldraw [black] (0,0) circle (1pt);
\draw [->] (-7,0) -- (7,0);
\draw [->] (0,-8) -- (0,10);
\draw[line01] (0,2) -- (7,2);
\draw[line01] (-7,-2) -- (0,-2);
%\draw[line01] (-7,2) -- (0,-5);
%\draw[line03] (-2,-1) -- (-2,1);
%\draw[line03] (0,2) -- (1,2);
%\draw[line03] (1,0) -- (1,2);
\draw (7.3,0.7) node {\scriptsize $x$};
%\draw (1.2,-5) node {\scriptsize $-5$};
%\draw (5.2,-0.7) node {\scriptsize $5$};
%\draw (-5.7,-0.7) node {\scriptsize $-5$};
\draw (-1.2,2) node {\tiny $\cfrac{1}{2}$};
\draw (1.5,-2) node {\tiny $-\cfrac{1}{2}$};
%\draw (-1.4,-0.5) node {\tiny $-2$};
%\draw (-3.5,-0.7) node {\tiny $-3$};
\draw (0.7,10.2) node {\scriptsize $y$};
\draw (0,-2) circle (8pt);
\draw (0,2) circle (8pt);
\end{tikzpicture}$$
